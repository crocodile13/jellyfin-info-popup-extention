[
  {
    "guid": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
    "name": "Info Popup",
    "description": "Permet aux administrateurs de diffuser des messages popup aux utilisateurs lors de leur connexion.",
    "overview": "Messages popup pour les utilisateurs Jellyfin",
    "owner": "crocodile13",
    "category": "General",
    "imageUrl": "https://raw.githubusercontent.com/crocodile13/jellyfin-info-popup-extention/main/assets/icon.png",
    "versions": [
      {
        "version": "0.4.0.0",
        "changelog": "\\### Ajout√©\\\\- **Formatage du corps des messages** ‚Äî syntaxe l√©g√®re rendue c√¥t√© client en HTML s√©curis√© (escHtml() toujours appliqu√© avant tout remplacement, XSS impossible) :\\  - `**texte**` ‚Üí gras\\  - `_texte_` ‚Üí italique\\  - `__texte__` ‚Üí soulign√©\\  - `~~texte~~` ‚Üí barr√©\\  - Lignes pr√©fix√©es `- ` ‚Üí liste √† puces avec indentation (`<ul><li>`)\\  - Rendu actif dans la popup utilisateur, dans l'historique et dans le d√©roulant du tableau admin.\\- **Toolbar de formatage** au-dessus du textarea d'administration ‚Äî cinq boutons (B, I, U, S, ‚Ä¢ Liste) qui wrappent la s√©lection courante. Chaque bouton est un toggle : appuyer une seconde fois retire le formatage.\\- **Modification de messages existants** ‚Äî bouton ¬´ ‚úé Modifier ¬ª sur chaque ligne du tableau admin. Charge le message dans le formulaire, passe en mode √©dition (titre de section + libell√© du bouton changent, bouton ¬´ Annuler ¬ª appara√Æt). Utilise `PUT /InfoPopup/messages/{id}` : l'ID est conserv√©, le suivi des vues n'est pas affect√© ‚Äî un utilisateur ayant d√©j√† vu le message ne le reverra pas.\\- **Endpoint `PUT /InfoPopup/messages/{id}`** (admin uniquement) ‚Äî met √† jour titre et corps sans toucher √† l'ID ni √† `infopopup_seen.json`.\\\\### Corrig√©\\\\- **Corps vide dans l'historique de la popup** ‚Äî les messages d√©j√† vus pass√©s √† `buildHistoryBlock` √©taient des `MessageSummary` sans `body`. `checkForUnseenMessages` pr√©-charge d√©sormais le d√©tail complet de chaque message vu (via `Promise.all` en parall√®le) avant d'ouvrir la popup.\\- **Mise en forme cass√©e du tableau admin** ‚Äî CSS de `.ip-row-expand`, `.ip-row-chev`, `.ip-edit-btn` absent lors d'une navigation directe vers la page config (car `injectStyles()` n'√©tait appel√© que par `showPopup`). `initConfigPage()` appelle maintenant `injectStyles()` en premier.\\\\### Modifi√©\\",
        "targetAbi": "10.10.0.0",
        "sourceUrl": "https://github.com/crocodile13/jellyfin-info-popup-extention/releases/download/v0.4.0.0/infopopup_0.4.0.0.zip",
        "checksum": "6bcbc8222286dbe162b3b994adb6e91d",
        "timestamp": "2026-02-23T10:19:23Z"
      },
      {
        "version": "0.3.0.0",
        "changelog": "\\### Ajout√©\\\\- **Affichage de tous les messages non vus en zone principale** ‚Äî si un utilisateur a plusieurs messages non lus au moment de la connexion, chacun s'affiche d√©sormais dans sa propre carte titr√©e (avec titre en gras + corps), sans √™tre rel√©gu√© dans l'historique d√©roulant. L'historique ne contient plus que les messages d√©j√† vus.\\- **Titre du message affich√© dans l'en-t√™te de la popup** ‚Äî lorsqu'un seul message est non vu, son titre appara√Æt directement dans la barre d'en-t√™te de la popup (√† c√¥t√© de l'ic√¥ne üîî). Lorsque plusieurs messages sont non vus, l'en-t√™te affiche ¬´ N nouveaux messages ¬ª.\\- **D√©roulant par ligne dans le tableau d'administration** ‚Äî la colonne Titre de chaque message dans la page de config est d√©sormais cliquable : un clic ins√®re une ligne d'expansion en dessous affichant le corps du message, charg√© √† la demande (lazy-load). Un chevron anim√© (‚ñ∂ ‚Üí ‚Üì) indique l'√©tat ouvert/ferm√©.\\\\### Modifi√©\\\\- `checkForUnseenMessages` r√©cup√®re maintenant le corps complet de tous les messages non vus en parall√®le (`Promise.all`) avant d'ouvrir la popup, au lieu de ne charger que le plus r√©cent.\\- `showPopup` accepte d√©sormais deux arguments (`unseenMessages`, `seenMessages`) au lieu de trois, et adapte son rendu dynamiquement selon le nombre de messages non vus.\\- `renderMessages` g√©n√®re une ligne d'expansion `<tr>` pour chaque message du tableau admin, avec chargement lazy du corps via l'API.\\\\---\\\\## [0.2.1.0] ‚Äî 2026-02-20\\\\*(version initiale publi√©e)*\\\\### Ajout√©\\",
        "targetAbi": "10.10.0.0",
        "sourceUrl": "https://github.com/crocodile13/jellyfin-info-popup-extention/releases/download/v0.3.0.0/infopopup_0.3.0.0.zip",
        "checksum": "482cf8d10ca73ca4ebe1e3b0f5228f52",
        "timestamp": "2026-02-23T09:52:46Z"
      },
      {
        "version": "0.2.1.0",
        "changelog": "Release v0.2.1.0",
        "targetAbi": "10.10.0.0",
        "sourceUrl": "https://github.com/crocodile13/jellyfin-info-popup-extention/releases/download/v0.2.1.0/infopopup_0.2.1.0.zip",
        "checksum": "ebf0f52f77c603f22ac26fdbccc3a62a",
        "timestamp": "2026-02-22T17:40:58Z"
      },
      {
        "version": "0.2.0.0",
        "changelog": "Release v0.2.0.0",
        "targetAbi": "10.10.0.0",
        "sourceUrl": "https://github.com/crocodile13/jellyfin-info-popup-extention/releases/download/v0.2.0.0/infopopup_0.2.0.0.zip",
        "checksum": "8a5d02748a4ee36d1583a9ed093db2f0",
        "timestamp": "2026-02-21T18:08:04Z"
      }
    ]
  }
]
